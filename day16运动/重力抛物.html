<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			div {
				width: 1000px;
				height: 600px;
				background: none;
				margin: 50px;
				border: 1px solid #000;
				position:relative;
			}
			
			#count {
				width: 100px;
				height: 100px;
				border-radius: 50%;
				background: #00CED1;
				margin: 0;
				position: absolute;
				left:0;
			}
		</style>
	</head>

	<body>
		<div>
			<p id="count"></p>
		</div>
	</body>

</html>
<script type="text/javascript">
	var ocount = document.getElementById('count');
	var odiv = document.querySelector('div');

	//运动三要素
	//往下落
	var speed = 10;
	var stop = odiv.offsetHeight - ocount.offsetHeight - 2;
	var timer = null;
	//往右走
	var speedL =20;
	var stopL = odiv.offsetWidth - ocount.offsetWidth - 2;
	
	//设置重力
	var g = 1;

	odiv.onmouseover = function() {
		clearInterval(timer);
		timer = setInterval(function() {
			speed += g;
			if(stop - ocount.offsetTop < speed) {
//				clearInterval(timer);        计时器就不需要了
				ocount.style.top = stop + "px";
				//利用绝对值math.abs判断何时关闭计时器
				speed = -(speed)*0.85;
				if(Math.abs(speed) <= 1){
					clearInterval(timer);
				}
			} else {
				ocount.style.top = ocount.offsetTop + speed + "px";
				ocount.style.left = ocount.offsetLeft+ speedL+ "px";
			}
			if(Math.abs(0 - ocount.offsetTop) < Math.abs(speed)){
				speed = -speed;
			}
			
			//水平方向
			if(stopL - ocount.offsetLeft < speedL){
//				clearInterval(timer);
				ocount.style.left = stopL + "px";
				speedL = -speedL;
				
			}
			if(Math.abs(0- ocount.offsetLeft) <Math.abs(speedL)){
				ocount.style.left = "0";
				speedL = -speedL;
			}
			console.log(1);
		}, 30)
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</script>